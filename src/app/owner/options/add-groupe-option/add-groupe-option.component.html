<div class="card">
  <div class="card-body p-4">
    <h5 class="card-title">Add New Groupe Option</h5>
    <hr/>
   
    <div class="form-body mt-4">
      <div class="row">
        <div class="col-lg-8">
          <div class="border border-3 p-4 rounded">
            <div class="mb-3">
              <label for="inputProductTitle" class="form-label">Title</label>
              <input type="text" [(ngModel)]="optionGroup.name" name="name" class="form-control" id="inputProductTitle" placeholder="Enter product title">
            </div>
            <div class="mb-3">
              <label for="inputProductDescription" class="form-label">Description</label>
              <textarea class="form-control" [(ngModel)]="optionGroup.description" name="description" id="inputProductDescription" rows="3"></textarea>
            </div>
            <div class="mb-3">
              <label for="inputProductTitle" class="form-label">min</label>
              <div class="input-group has-validation">
              <input type="number" min="0" [(ngModel)]="optionGroup.force_min" name="min" class="form-control" id="inputProductTitle" placeholder="Enter product title">
              <span class="input-group-text" id="inputGroupPrepend"> <i class="fadeIn animated bx bx-info-circle" placement="top" ngbTooltip="This forces your customer
                to select a certain
                minimum number of
                choices. E.g.: If you set this
                to 2 then your customer
                must select at least 2" ></i></span>
     
              </div>
          </div> 
            <div class="mb-3">
              <label for="inputProductTitle" class="form-label">max</label>
              <div class="input-group has-validation">
              <input type="number" min="0" [(ngModel)]="optionGroup.force_max" name="max" class="form-control" id="inputProductTitle" placeholder="Enter product title">
              <span class="input-group-text" id="inputGroupPrepend"> <i class="fadeIn animated bx bx-info-circle" placement="top" ngbTooltip="The maximurn number of
                choices your customer can
                add. If you prefer not to
                set any limitation you can
                set it to 0. E.g.: If you set
                this to 4 then your
                customer can not select
                more than 4 choices." ></i></span>
            </div>  
     
            </div>
            <div class="col-md-6">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" id="inputPromo" [(ngModel)]="optionGroup.allow_quantity" >
                <label class="form-check-label" for="inputPromo">Allow adding same choice multiple times</label>
              </div>
            </div>
            <div class="mb-3">
              <label for="formFileSm" class="form-label">Image</label>
              <input class="form-control form-control-sm" id="formFileSm" type="file" (change)="onFileChange($event)">
            </div>

            <div class="col-12">
              <div class="d-grid">
                <button type="submit" class="btn btn-primary" (click)="addOptionGroup()" [disabled]="optionGroup.force_max<optionGroup.force_min && optionGroup.force_max!=0">Save Groupe Option</button>
               
               
              </div>
            </div>
            <br>
            <div class="alert alert-danger" *ngIf="optionGroup.force_max<optionGroup.force_min && optionGroup.force_max!=0">
              <strong> minimum</strong> must be less than or equal to a <strong>maximum</strong>  value .
            </div>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="border border-3 p-4 rounded">
            <div class="row g-3">
              <div class="card">
                <div class="card-body">
                  <h5 class="card-title">List Option Groupe</h5>
                  <hr />
                  <div class="mb-3">
                    <label for="searchInput" class="form-label">Search</label>
                    <input type="text" [(ngModel)]="searchTerm" class="form-control" placeholder="Search" (input)="searchOptionGroups()">
                  </div>
                  <div class="accordion accordion-flush" id="accordionFlushExample">
                    <div class="accordion-item" *ngFor="let group of filteredOptionGroups">
                      <h2 class="accordion-header" [id]="'flush-heading' + group._id">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                          [attr.data-bs-target]="'#flush-collapse' + group._id" aria-expanded="false"
                          [attr.aria-controls]="'flush-collapse' + group._id">
                          {{ group.name }}
                        </button>

                      </h2>
                      <div [id]="'flush-collapse' + group._id" class="accordion-collapse collapse" [attr.aria-labelledby]="'flush-heading' + group._id"
                        data-bs-parent="#accordionFlushExample">
                        <div class="accordion-body">
                          {{ group.description }}
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="mt-3" *ngIf="filteredOptionGroups.length === 0">
                    No results found.
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div><!--end row-->
    </div>
  </div>
</div>
