<div class="row">
  <div class="col">

    <hr />
    <div class="card border-top border-0 ">
      <div class="card-body p-5">
        <div class="card-title d-flex ">
          <div>

          </div>
          <h5 class="mb-0 text-primary">Add product</h5>
        </div>
        <hr>
        <form class="row g-3">
          <div class="col-md-6">
            <label for="inputFirstName" class="form-label">Name</label>
            <input type="text" class="form-control" [(ngModel)]="productData.name" name="name" id="inputFirstName">
          </div>
          <div class="col-md-6" *ngIf="!isPriceHidden">
            <label for="inputLastName" class="form-label">Price</label>
            <input type="text" class="form-control" [(ngModel)]="productData.price" name="price" id="inputLastName">
          </div>
          <div class="col-12">

          </div>

          <div class="col-12">
            <label for="inputVendor" class="form-label">Category</label>
            <select class="form-select" id="inputVendor" name="category" [(ngModel)]="productData.category">
              <option hidden>Select your category</option>
              <option *ngFor="let category of Categorys" value="{{category._id}}">{{ category.name }}</option>
            </select>

          </div>
          <div class="col-12">
            <label for="inputVendor" class="form-label">disponibilit√©</label>
            <div *ngFor="let consumationMode of ModeConsumation">
              <input type="checkbox" name="check" id="consumationMode.mode._id" [(ngModel)]="consumationMode.isChecked">
              {{consumationMode.mode.name}}
            </div>

          </div>
          <div class="col-12">
            <label for="inputAddress" class="form-label">Description</label>
            <textarea class="form-control" id="inputAddress" [(ngModel)]="productData.description" name="description"
              placeholder="Description..." rows="3"></textarea>
          </div>
          <div class="col-12">
            <label for="inputVendor" class="form-label">Tax</label>
            <div *ngFor="let consumationMode of ModeConsumation">
              <div class="row">
                <div class="col-2">{{ consumationMode.mode.name }}</div>
                <div *ngFor="let tax of consumationMode.taxes">
                  <input
                    name="checktaxs"
                    type="checkbox"
                    [(ngModel)]="tax.isChecked"
                  />
                  {{ tax.rate }}%
                </div>
              </div>
            </div>
          </div>
          <div class="col-12">
            <label for="inputImage" class="form-label">Product Image</label>
            <input type="file" class="form-control" id="inputImage" (change)="onImageSelected($event)" accept="image/*">
          </div>
          <div class="col-12" *ngFor="let size of sizes; let i = index">
            <div class="row">
              <div class="col-md-5">
                <input type="text" class="form-control" [id]="'inputSizeName_' + i" [(ngModel)]="size.name"
                  [name]="'sizeName_' + i" placeholder="Size Name">
              </div>
              <div class="col-md-5">
                <input type="text" class="form-control" [id]="'inputSizePrice_' + i" [(ngModel)]="size.price"
                  [name]="'sizePrice_' + i" placeholder="Size Price">
              </div>
              <div class="col-1">
                <button class="btn btn-link" (click)="removeSize(i)">
                  <i class="bx bx-trash"></i>
                </button>
              </div>
            </div>

          </div>
          
          <div class="col-6">
            <button type="button" class="btn btn-link-secondary" (click)="addSize()">Add Size</button>
          </div>



          <div class="col-6">
            <button type="submit" class="btn btn-primary px-5"
              (click)="addProduct() ;checkCheckboxStatus();checkCheckedTaxes()">Register</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>